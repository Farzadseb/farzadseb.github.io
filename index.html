<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>A1 English Dictionary</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background:#f4f7ff;
  color:#111;
  padding:20px;
  text-align:center;
}
h1{
  font-size:2.6rem;
  margin-bottom:10px;
}
.subtitle{
  color:#555;
  font-size:1.1rem;
  margin-bottom:20px;
}
.search-box{
  display:flex;
  max-width:520px;
  margin:0 auto 20px;
  background:white;
  border-radius:20px;
  padding:10px;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
}
.search-box input{
  flex:1;
  font-size:1.4rem;
  border:none;
  outline:none;
}
.search-box button{
  font-size:1.6rem;
  background:none;
  border:none;
  cursor:pointer;
}
.card{
  max-width:520px;
  margin:0 auto 20px;
  background:white;
  border-radius:20px;
  padding:20px;
  box-shadow:0 8px 24px rgba(0,0,0,.08);
  text-align:left;
}
.word{
  font-size:2.4rem;
  font-weight:bold;
  display:flex;
  align-items:center;
  gap:10px;
}
.speaker{
  cursor:pointer;
  font-size:1.8rem;
}
.section{
  margin-top:14px;
}
.section h3{
  margin:0 0 6px;
  font-size:1.2rem;
  color:#3b5bfd;
}
.en{
  font-size:1.2rem;
}
.fa{
  font-size:1.3rem;
  direction:rtl;
}
ul{
  padding-left:18px;
}
.tag{
  display:inline-block;
  background:#eef2ff;
  padding:6px 12px;
  border-radius:14px;
  margin:4px 4px 0 0;
  font-size:1rem;
}
.empty{
  text-align:center;
  color:#777;
  margin-top:40px;
}
</style>
</head>

<body>

<h1>üìò A1 English Dictionary</h1>
<div class="subtitle">
Definitions, Persian meanings & pronunciation
</div>

<div class="search-box">
  <input id="searchInput" placeholder="Search an English word‚Ä¶" />
  <button onclick="search()">üîç</button>
</div>

<div id="result" class="empty">
Search for a word
</div>

<script>
let data = {};
let lastSpoken = "";

fetch("pdcs_a1.json")
  .then(r=>r.json())
  .then(j=>data = j.words || j);

function speak(text){
  lastSpoken = text;
  speechSynthesis.cancel();
  const u = new SpeechSynthesisUtterance(text);
  u.lang="en-US";
  u.rate=0.8;
  speechSynthesis.speak(u);
}

function search(){
  const input = document.getElementById("searchInput").value.trim().toLowerCase();
  const box = document.getElementById("result");

  if(!data[input]){
    box.innerHTML = `<div class="empty">‚ùå Not found</div>`;
    return;
  }

  const w = data[input];

  box.innerHTML = `
    <div class="card">
      <div class="word">
        ${input}
        <span class="speaker" onclick="speak('${input}')">üîä</span>
      </div>

      <div class="section">
        <h3>Persian Meaning</h3>
        <div class="fa">${w.fa}</div>
      </div>

      <div class="section">
        <h3>Definition</h3>
        <div class="en">${w.def}</div>
      </div>

      <div class="section">
        <h3>Example</h3>
        <div class="en">"${w.example.en}"</div>
        <div class="fa">${w.example.fa}</div>
      </div>

      <div class="section">
        <h3>Collocations</h3>
        ${w.collocations.length
          ? w.collocations.map(c=>`<span class="tag">${c.en}</span>`).join("")
          : `<span class="tag">‚Äî</span>`}
      </div>

      <div class="section">
        <h3>Phrases</h3>
        ${w.phrases.length
          ? w.phrases.map(p=>`<span class="tag">${p.en}</span>`).join("")
          : `<span class="tag">‚Äî</span>`}
      </div>

      <div class="section">
        <h3>Phrasal Verbs</h3>
        ${w.phrasal_verbs.length
          ? w.phrasal_verbs.map(p=>`<span class="tag">${p.en}</span>`).join("")
          : `<span class="tag">‚Äî</span>`}
      </div>
    </div>
  `;
}

document.getElementById("searchInput")
  .addEventListener("keydown",e=>{
    if(e.key==="Enter") search();
  });
</script>

</body>
</html>
